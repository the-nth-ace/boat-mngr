{% extends "dashboard_base.html" %}
{% load static %}
{% load first_n_words %}
{% block title %}
    Admin Dashboard
{% endblock title %}
{% block content %}
    <div class="row py-4">
        <div class="col-12 col-sm-6 col-xl-4 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-primary rounded me-4 me-sm-0">
                                <svg version="1.1"
                                     id="Layer_1"
                                     class="icon"
                                     xmlns="http://www.w3.org/2000/svg"
                                     xmlns:xlink="http://www.w3.org/1999/xlink"
                                     x="0px"
                                     y="0px"
                                     viewBox="0 0 512.005 512.005"
                                     style="enable-background:new 0 0 512.005 512.005;"
                                     xml:space="preserve">
                                    <g transform="translate(0 -1)">
                                    <g>
                                    <g>
                                    <path d="M511.733,391.401c-0.981-3.763-4.378-6.391-8.269-6.391h-71.526l-57.37-114.748c-1.451-2.893-4.403-4.719-7.637-4.719
                                    h-59.733V120.476c0-4.71-3.814-8.533-8.533-8.533h-51.2c-4.71,0-8.533,3.823-8.533,8.533v145.067h-51.2v-93.867
                                    c0-4.71-3.814-8.533-8.533-8.533h-51.2c-4.71,0-8.533,3.823-8.533,8.533v93.867H59.731c-4.71,0-8.533,3.823-8.533,8.533v110.933
                                    H8.531c-3.371,0-6.426,1.98-7.791,5.06c-1.374,3.081-0.802,6.673,1.451,9.182l76.8,85.333c1.621,1.801,3.925,2.825,6.34,2.825
                                    h264.533c1.451,0,2.876-0.367,4.147-1.075L507.611,401C511.007,399.115,512.706,395.164,511.733,391.401z M238.931,308.209
                                    c0-4.71,3.823-8.533,8.533-8.533h93.867c3.234,0,6.187,1.826,7.637,4.719l25.6,51.2c1.323,2.645,1.178,5.786-0.375,8.303
                                    c-1.553,2.509-4.301,4.045-7.262,4.045H247.464c-4.71,0-8.533-3.823-8.533-8.533V308.209z M85.331,308.209
                                    c0-4.71,3.823-8.533,8.533-8.533h59.733h59.733c4.719,0,8.533,3.823,8.533,8.533v51.2c0,4.71-3.814,8.533-8.533,8.533h-59.733
                                    H93.864c-4.71,0-8.533-3.823-8.533-8.533V308.209z M347.654,470.342H89.137l-61.449-68.267h32.043h366.933h43.87L347.654,470.342
                                    z"/>
                                    <polygon points="336.058,316.742 255.998,316.742 255.998,350.876 353.125,350.876 			"/>
                                    <rect x="102.4" y="316.746" width="42.667" height="34.133"/>
                                    <rect x="162.133" y="316.746" width="42.667" height="34.133"/>
                                    <path d="M139.534,137.513h34.526c12.245,0,22.204-9.711,22.204-21.649c0-9.028-0.751-17.323-8.448-25.216
                                    c3.354-5.035,5.171-11.025,5.171-17.391c0-10.223-2.756-19.208-7.97-25.992c-11.034-14.353-22.315-21.402-33.374-20.608
                                    c-13.005,0.794-19.703,11.537-20.429,12.766c-1.553,2.637-1.579,5.905-0.051,8.568c1.51,2.654,4.343,4.301,7.407,4.301
                                    c4.267,0,6.494,4.233,6.494,8.422c0,3.115-0.597,6.255-7.799,7.39c-19.772,3.055-32.896,16.213-33.442,33.527
                                    c-0.282,9.233,3.183,18.074,9.779,24.866C120.385,133.493,129.84,137.513,139.534,137.513z"/>
                                    </g>
                                    </g>
                                    </g>
                                </svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="h5">Boats</h2>
                                <h3 class="fw-extrabold mb-1">{{ boats_count }}</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Boats</h2>
                                <h3 class="fw-extrabold mb-2">{{ boats_count }}</h3>
                            </div>
                            <small class="d-flex align-items-center text-gray-500">
                                Jan - Dec,
                                <svg class="icon icon-xxs text-gray-500 ms-2 me-1"
                                     fill="currentColor"
                                     viewBox="0 0 20 20"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd"/>
                                </svg>
                                NIG
                            </small>
                            <div class="small d-flex mt-1">
                                <div>
                                    Since last month
                                    <svg class="icon icon-xs text-success"
                                         fill="currentColor"
                                         viewBox="0 0 20 20"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-success fw-bolder">22%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl-4 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                                <svg class="icon"
                                     fill="currentColor"
                                     viewBox="0 0 20 20"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                    d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                                </svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="fw-extrabold h5">Operators</h2>
                                <h3 class="mb-1">{{ operators_count }}</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Operators</h2>
                                <h3 class="fw-extrabold mb-2">{{ operators_count }}</h3>
                            </div>
                            <small class="d-flex align-items-center text-gray-500">
                                Jan - Dec,
                                <svg class="icon icon-xxs text-gray-500 ms-2 me-1"
                                     fill="currentColor"
                                     viewBox="0 0 20 20"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd" />
                                </svg>
                                NIG
                            </small>
                            <div class="small d-flex mt-1">
                                <div>
                                    Since last month
                                    <svg class="icon icon-xs text-success"
                                         fill="currentColor"
                                         viewBox="0 0 20 20"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-success fw-bolder">2%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl-4 mb-4">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <div class="row d-block d-xl-flex align-items-center">
                        <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                            <div class="icon-shape icon-shape-tertiary rounded me-4 me-sm-0">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                     class="icon"
                                     viewBox="0 0 20 20"
                                     fill="currentColor">
                                    <path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="d-sm-none">
                                <h2 class="fw-extrabold h5">Reviews</h2>
                                <h3 class="mb-1">{{ reviews_count }}</h3>
                            </div>
                        </div>
                        <div class="col-12 col-xl-7 px-xl-0">
                            <div class="d-none d-sm-block">
                                <h2 class="h6 text-gray-400 mb-0">Reviews</h2>
                                <h3 class="fw-extrabold mb-2">{{ reviews_count }}</h3>
                            </div>
                            <small class="d-flex align-items-center text-gray-500">
                                Jan - Dec,
                                <svg class="icon icon-xxs text-gray-500 ms-2 me-1"
                                     fill="currentColor"
                                     viewBox="0 0 20 20"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z" clip-rule="evenodd" />
                                </svg>
                                NIG
                            </small>
                            <div class="small d-flex mt-1">
                                <div>
                                    Since last month
                                    <svg class="icon icon-xs text-success"
                                         fill="currentColor"
                                         viewBox="0 0 20 20"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd" />
                                    </svg>
                                    <span class="text-success fw-bolder">22%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-xl-12">
            <div class="row">
                <div class="col-12 col-xxl-6 mb-4">
                    <div class="card border-0 shadow">
                        <div class="card-header border-bottom d-flex align-items-center justify-content-between">
                            <h2 class="fs-5 fw-bold mb-0">Latest Reviews</h2>
                            <a href="{% url 'dashboard_review_list' %}"
                               class="btn btn-sm btn-primary">See all</a>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush list my--3">
                                {% for review in reviews %}
                                    <li class="list-group-item px-0">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <!-- Avatar -->
                                                <a href="#" class="avatar">
                                                    <img class="rounded"
                                                         alt="Image placeholder"
                                                         src="{{ review.boat.captain_photo.url }}"/>
                                                </a>
                                            </div>
                                            <div class="col-auto ms--2">
                                                <h4 class="h6 mb-0">
                                                    <a href="#">{{ review.boat.name }}</a>
                                                </h4>
                                                <div class="d-flex align-items-center">
                                                    <div class="bg-success dot rounded-circle me-1"></div>
                                                    <small>{{ review.created }}</small>
                                                </div>
                                            </div>
                                            <div class="col text-end">
                                                <a href="{% url 'dashboard_review_detail' review.pk %}"
                                                   class="btn btn-sm btn-secondary d-inline-flex align-items-center">
                                                    <svg class="icon icon-xxs me-2"
                                                         fill="currentColor"
                                                         viewBox="0 0 20 20"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd"
                                                        d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                                                        clip-rule="evenodd" />
                                                    </svg>
                                                    Open
                                                </a>
                                            </div>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
